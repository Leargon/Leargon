# E2E Test Configuration - Uses MySQL via Testcontainers
micronaut.application.names=leargon-backend-e2e
micronaut.server.port=-1

# Database - Testcontainers provides the URL dynamically
datasources.default.driverClassName=com.mysql.cj.jdbc.Driver
datasources.default.dialect=MYSQL

# JPA Configuration - let Liquibase handle schema
jpa.default.properties.hibernate.hbm2ddl.auto=none
jpa.default.properties.hibernate.show_sql=false

# Liquibase Configuration - enabled for E2E tests
liquibase.datasources.default.change-log=classpath:db/changelog/db.changelog-master.yaml

# JWT Configuration for tests
micronaut.security.authentication=bearer
micronaut.security.token.jwt.signatures.secret.generator.secret=e2etestsecretkeythatisverylong32characters
micronaut.security.token.jwt.generator.access-token.expiration=3600

# Security intercept-url-map for tests
micronaut.security.intercept-url-map[0].pattern=/authentication/**
micronaut.security.intercept-url-map[0].access=isAnonymous()

# Disable OpenAPI generation in tests
micronaut.openapi.enabled=false

# Admin user for E2E tests
admin.email=admin@e2e-test.local
admin.username=admin
admin.password=AdminPass123!
admin.firstName=E2E
admin.lastName=Admin
